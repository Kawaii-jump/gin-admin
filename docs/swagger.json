{
    "swagger": "2.0",
    "info": {
        "description": "This is grpc message queue server api",
        "title": "grpc MQ API",
        "contact": {
            "name": "hetao.kawaii",
            "url": "https://hetao.kawaii.com",
            "email": "hetao.kawaii@bytedance.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "127.0.0.1:8181",
    "basePath": "/api/v1",
    "paths": {
        "/": {
            "get": {
                "description": "通过请求验证请求",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "grafana接口"
                ],
                "summary": "接口验证",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/annotations": {
            "post": {
                "description": "grafana Annotation 接口",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "grafana接口"
                ],
                "summary": "grafana Annotation 接口",
                "parameters": [
                    {
                        "description": "请求",
                        "name": "annotation",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.AnnotationRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.AnnotationResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/query": {
            "post": {
                "description": "查询grafana 图表 数据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "grafana接口"
                ],
                "summary": "grafana 数据查询接口",
                "parameters": [
                    {
                        "description": "查询请求",
                        "name": "queryRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.QueryRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.QueryData"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/search": {
            "post": {
                "description": "查询grafana matrics 数据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "grafana接口"
                ],
                "summary": "grafana 查询接口",
                "parameters": [
                    {
                        "description": "查询请求",
                        "name": "searchRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.SearchRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.SearchData"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "models.Annotation": {
            "type": "object",
            "properties": {
                "datasource": {
                    "type": "string"
                },
                "enable": {
                    "type": "boolean"
                },
                "iconColor": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "query": {
                    "type": "string"
                },
                "showLine": {
                    "type": "boolean"
                }
            }
        },
        "models.AnnotationRequest": {
            "type": "object",
            "properties": {
                "annotation": {
                    "$ref": "#/definitions/models.Annotation"
                },
                "range": {
                    "type": "object",
                    "properties": {
                        "from": {
                            "type": "string"
                        },
                        "to": {
                            "type": "string"
                        }
                    }
                },
                "rangeRaw": {
                    "type": "object",
                    "properties": {
                        "from": {
                            "type": "string"
                        },
                        "to": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "models.AnnotationResponse": {
            "type": "object",
            "properties": {
                "annotation": {
                    "description": "The original annotation sent from Grafana.",
                    "$ref": "#/definitions/models.Annotation"
                },
                "tags": {
                    "description": "Tags for the annotation. (optional)",
                    "type": "string"
                },
                "text": {
                    "description": "Text for the annotation. (optional)",
                    "type": "string"
                },
                "time": {
                    "description": "Time since UNIX Epoch in milliseconds. (required)",
                    "type": "integer"
                },
                "title": {
                    "description": "The title for the annotation tooltip. (required)",
                    "type": "string"
                }
            }
        },
        "models.QueryData": {
            "type": "object",
            "properties": {
                "datapoints": {
                    "type": "array",
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "object"
                        }
                    }
                },
                "target": {
                    "type": "string"
                }
            }
        },
        "models.QueryRequest": {
            "type": "object",
            "properties": {
                "adhocFilters": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "key": {
                                "type": "string"
                            },
                            "operator": {
                                "type": "string"
                            },
                            "value": {
                                "type": "string"
                            }
                        }
                    }
                },
                "format": {
                    "type": "string"
                },
                "interval": {
                    "type": "string"
                },
                "intervalMs": {
                    "type": "integer"
                },
                "maxDataPoints": {
                    "type": "integer"
                },
                "panelId": {
                    "type": "integer"
                },
                "range": {
                    "type": "object",
                    "properties": {
                        "from": {
                            "type": "string"
                        },
                        "raw": {
                            "type": "object",
                            "properties": {
                                "from": {
                                    "type": "string"
                                },
                                "to": {
                                    "type": "string"
                                }
                            }
                        },
                        "to": {
                            "type": "string"
                        }
                    }
                },
                "rangeRaw": {
                    "type": "object",
                    "properties": {
                        "from": {
                            "type": "string"
                        },
                        "to": {
                            "type": "string"
                        }
                    }
                },
                "targets": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "refId": {
                                "type": "string"
                            },
                            "target": {
                                "type": "string"
                            },
                            "type": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "models.SearchData": {
            "type": "object",
            "properties": {
                "text": {
                    "type": "string"
                },
                "value": {
                    "type": "integer"
                }
            }
        },
        "models.SearchRequest": {
            "type": "object",
            "properties": {
                "target": {
                    "type": "string"
                }
            }
        }
    }
}